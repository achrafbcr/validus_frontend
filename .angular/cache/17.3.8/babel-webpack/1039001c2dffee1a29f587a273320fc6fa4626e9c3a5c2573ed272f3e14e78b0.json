{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nexport class LoginComponent {\n  constructor(auth, router) {\n    this.auth = auth;\n    this.router = router;\n    this.username = '';\n    this.password = '';\n    this.error = '';\n  }\n  login() {\n    this.error = '';\n    try {\n      this.auth.setCredentials(this.username, this.password);\n      this.router.navigateByUrl('/');\n    } catch (e) {\n      this.error = 'Erreur de connexion';\n    }\n  }\n  logout() {\n    this.auth.clear();\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 23,\n      vars: 4,\n      consts: [[1, \"card\"], [1, \"small\"], [1, \"grid\", \"grid-2\", 2, \"max-width\", \"560px\"], [\"placeholder\", \"admin\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"placeholder\", \"admin123\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [2, \"margin-top\", \"12px\"], [1, \"btn\", 3, \"click\", \"disabled\"], [1, \"btn\", 2, \"margin-left\", \"6px\", \"background\", \"#8899aa\", 3, \"click\"], [\"class\", \"alert\", 4, \"ngIf\"], [1, \"alert\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Connexion\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\", 1);\n          i0.ɵɵtext(4, \"Entrez vos identifiants Basic Auth (d\\u00E9mo : \");\n          i0.ɵɵelementStart(5, \"b\");\n          i0.ɵɵtext(6, \"admin/admin123\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(7, \").\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\")(10, \"label\");\n          i0.ɵɵtext(11, \"Utilisateur\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"input\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.username, $event) || (ctx.username = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\")(14, \"label\");\n          i0.ɵɵtext(15, \"Mot de passe\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"div\", 5)(18, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_18_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵtext(19, \"Se connecter\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_20_listener() {\n            return ctx.logout();\n          });\n          i0.ɵɵtext(21, \"Se d\\u00E9connecter\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(22, LoginComponent_div_22_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.username);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.username || !ctx.password);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","LoginComponent","constructor","auth","router","username","password","login","setCredentials","navigateByUrl","e","logout","clear","ɵɵdirectiveInject","i1","AuthService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵtwoWayListener","LoginComponent_Template_input_ngModelChange_12_listener","$event","ɵɵtwoWayBindingSet","LoginComponent_Template_input_ngModelChange_16_listener","ɵɵlistener","LoginComponent_Template_button_click_18_listener","LoginComponent_Template_button_click_20_listener","ɵɵtemplate","LoginComponent_div_22_Template","ɵɵtwoWayProperty","ɵɵproperty","i3","NgIf","i4","DefaultValueAccessor","NgControlStatus","NgModel","encapsulation"],"sources":["D:\\validus-frontend\\src\\app\\auth\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n  <div class=\"card\">\n    <h2>Connexion</h2>\n    <p class=\"small\">Entrez vos identifiants Basic Auth (démo : <b>admin/admin123</b>).</p>\n    <div class=\"grid grid-2\" style=\"max-width:560px\">\n      <div>\n        <label>Utilisateur</label>\n        <input class=\"input\" [(ngModel)]=\"username\" placeholder=\"admin\">\n      </div>\n      <div>\n        <label>Mot de passe</label>\n        <input class=\"input\" [(ngModel)]=\"password\" type=\"password\" placeholder=\"admin123\">\n      </div>\n    </div>\n    <div style=\"margin-top:12px\">\n      <button class=\"btn\" (click)=\"login()\" [disabled]=\"!username || !password\">Se connecter</button>\n      <button class=\"btn\" style=\"margin-left:6px;background:#8899aa\" (click)=\"logout()\">Se déconnecter</button>\n    </div>\n    <div *ngIf=\"error\" class=\"alert\">{{error}}</div>\n  </div>\n  `\n})\nexport class LoginComponent {\n  username = '';\n  password = '';\n  error = '';\n\n  constructor(private auth: AuthService, private router: Router){}\n\n  login(){\n    this.error='';\n    try{\n      this.auth.setCredentials(this.username, this.password);\n      this.router.navigateByUrl('/');\n    }catch(e){ this.error = 'Erreur de connexion'; }\n  }\n\n  logout(){\n    this.auth.clear();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}